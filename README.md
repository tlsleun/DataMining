# 기상변수에 따른 알레르기 질환의 발생 추이

[2024.03.11-2024.06.19]
2024년 1학기 데이터마이닝 수업에서 진행했던 프로젝트입니다. *A+*

## 주제선정 배경
 최근 알레르기질환의 유병률은 증가하고 있으며, 기후 변화와 대기오염과 같은 환경요인이 유병률 증가의 원인으로 제시되고 있다.
 2008년 WHO의 보고에 의하면 전 세계적으로 약 3억 명의 인구가 천식을 앓고 있으며, 매년 약 25만명이 천식으로 사망한다고 발표하였다. 
 또한 2008년에 ARIA guideline 에서는 알레르기 비염의 유병률도 전 세계적으로 증가하고 있으며, 유럽 대륙의 유병률은 약 25%로 보고하였다. <https://doi.org/10.4168/aard.2018.6.2.79>
 알레르기 질환의 유병률이 증가하는 원인에는 여러 가지가 있지만, 기후 변화에  의한 알레르기 유발물질, 즉 알레르겐의 변화가 대표적인 원인이다. 환경오염의  증가 또한 중요한 원인이며, 기후 변화에 의한 알레르기 질환의 증가는 더욱 가속화되리라 전망된다.
 <https://github.com/user-attachments/assets/5554c584-81c6-4d09-8bc5-0fa8d32a75ff>

 ## 데이터 정의
| 질병데이터    |국민건강보험공단                          |
| ---------- | ---------------------------------------------- |
|Asthmapa|천식 환자수|
|Atopypa|아토피 환자수|
|rhinitispa|비염 환자수|

| 대기오염 데이터    |서울열린데이터                          |
| ---------- | ---------------------------------------------- |
|av_NO2|평균이산화질소농도|
|av_O3|평균오존농도|
|av_CO|평균일산화탄소농도|
|av_PM10|평균미세먼지농도|
|av_PM2.5|평균초미세먼지농도|

| 관측데이터    |ASOS                          | 관측데이터    |ASOS                          |
| ---------- | ---------------------------------------------- | ---------- | ---------------------------------------------- |
|meantem|평균기온|ave_dewpointtem|평균이슬점온도(°C)|
|lowesttem|최저기온|meanlowesttem|평균최저기온|
|highesttem|최고기온|meanhighesttem|평균최고기온|
|low_relhud|최소상대습도(%)|ave_waterpress|평균수증기압(hPa)|
|ave_relhud|평균상대습도(%)|hi_waterpress|최고수증기압(hPa)|
|sumrainfall|월 합 강수량|low_waterpress|최저수증기압(hPa)|
|sum_sunhour|합계 일조시간|ave_groundtem|평균지면온도(°C)|
|hPa|평균현지기압|sol_radiation|일조율|
|UVI |자외선지수|sumrainfall|월합강수량(mm)|합계 일사량(MJ/m2)|
 
 ## 데이터 EDA
[2006-2022년]
종속변수는 각 질병의 환자수로 정의하며 천식, 아토피, 비염 총 3개의 종속변수로 진행함.
독립변수는 날씨변수와 대기오염변수로 정의함.

1. 결측치 처리
NA값이 전체의 50% 이상 > 변수 제거
값이 없는 데이터(측정X)   > 전후 월 데이터의 평균으로 대체

2. 독립변수 정규화
독립변수 20개의 데이터 분포가 상이하여, 정규화(Regularization)를 진행해 모델에 적용함
종속변수는 3개의 질병 데이터의 크기 분포가 균일하여 전처리 하지 않고, 모델에 적용함

3. 상관분석
독립변수들의 연관성을 보고자 상관분석을 실행함
변수들이 서로 어떤 관계를 가지고 있는지 알기 위함
결과를 바탕으로 변수 간의 관계를 고려하여 모델을 설계함

![그림1](https://github.com/user-attachments/assets/0e8f84d0-e44e-4d83-bd57-25896ff6655f)

## 다중회귀모델
천식 모델의 MAPE = 18.17
아토피 모델의 MAPE = 5.00
비염 모델의 MAPE = 20.18


## 로지스틱회귀모델
- 월별 데이터를 1-3월/4-6월-7-9월/10-12월 총 4개의 계절을 나눠 분할하며 각 계절의 평균 환자수보다 높은 데이터를 1, 낮은 데이터를 0으로 정의함.
- 총 8개의 범주가 생성 > 데이터를 병합하여 질병 데이터를 재정의함.


## 오즈비분석

## 의사결정나무

### 변수중요도

## 결과
- 아토피  [합계일조시간> 평균일산화탄소농도> 최소상대습도> 평균미세먼지농도]
- 비염    [합계일사량> 합계일조시간> 최대풍속> 평균풍속]
- 천식    [평균기온> 평균오존농도> 평균이산화질소농도> 평균풍속]

## 향후연구방향
- 국민 안전 문자
아토피, 비염, 천식 모델에 환경성 알레르기 위험 지수를 도입하여 국민 안전 문자 전송으로 공공 서비스 제공함

- 역학 모델링
지리적 특성 및 위치에 따라 변화하는 기상 지수를 통해 환경성 알레르기 모델로 위험도 및 환자수 예측을 할 수 있는 역학조사 모델링을 도입함
